<h1 class="text-center text-2xl font-bold my-4">Marcas</h1>

<div class="grid">
  <div class="col-13" style="display: flex; justify-content: flex-end; margin:10px; margin-right: 16px;">
<p-button label="Adicionar" icon="pi pi-plus" (click)="showDialogToAdd()"></p-button>
<span ></span>
</div>
</div>
<p-table [value]="marcas" dataKey="id" selectionMode="single" [(selection)]="marcaSelecionada" [rows]="10" [paginator]="true">
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Ações</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-marca>
      <tr [pSelectableRow]="marca">
        <td>{{ marca.id }}</td>
        <td>{{ marca.nome }}</td>
        <td>
          <button pButton icon="pi pi-pencil" severity="success" (click)="editarMarca(marca)" class="p-button-rounded p-button-info"></button>
          <button pButton icon="pi pi-trash" (click)="deletarMarca(marca.id)" class="p-button-rounded p-button-danger"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
  
  
  <p-dialog
  header="Marca"
  [(visible)]="displayDialog"
  styleClass="sys-dialog"
  [modal]="true"
  [style]="{ width: '400px' }"
  [responsive]="true"
>
  <div class="p-fluid">
    <div class="p-field">
      <p-floatlabel variant="in">
        <label for="nome">Nome</label>
        <input
          id="nome"
          type="text"
          pInputText
          [(ngModel)]="marcaSelecionada.nome"
          style="width: 100%;"
        />
      </p-floatlabel>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <button
      pButton
      type="button"
      label="Cancelar"
      icon="pi pi-times"
      (click)="displayDialog = false"
      class="p-button-text"
    ></button>
    <button
      pButton
      type="button"
      label="Salvar"
      icon="pi pi-check"
      (click)="salvarMarca()"
      [disabled]="!marcaSelecionada.nome"
    ></button>
  </ng-template>
</p-dialog>

  
<p-confirmDialog></p-confirmDialog>
<p-toast></p-toast>
